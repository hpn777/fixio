var fixutils = require('../dist/fixutils')
fixutils.setSOHCHAR('|')
var message = { "35": "D", "49": "1", "56": "n8fix", "34": "2", "50": "1", "52": "20210305-12:00:01.123", "11": "123aBC", "552": [{"453": [{ "448": "123456", "447": "P", "452": "3", "2376": "23" }, { "448": "3", "447": "P", "452": "12", "2376": "0" }]}], "48": "222", "22": "8", "54": "2", "60": "20210326-11:30:01.789", "38": "1000", "40": "2", "44": "98", "59": "0", "528": "A", "2593": "1", "2594": "2", "2595": "N", "1724": "5", "1": "ACCTRRU001", "581": "1" }
var fix = fixutils.convertToFIX(message,'fixVersion', 'timeStamp','senderCompID', 'targetCompID', 'outgoingSeqNum', {})
var fixMsg = '8=FIXT.1.1|9=0118|35=3|49=n8_fix_tp|56=8|34=4|50=0|57=8|52=20220811-00:40:47.444|45=4|371=11|372=D|373=1|58=RequiredTagMissing (tag=11)|10=111|'
var fixMsg2 = '8=FIXT.1.1|35=AE|49=n8_ccp_tp|56=6|487=0|828=0|1300=1407|22=4|32=200|31=105.00000000|15=PLN|381=21000.00|552=2|453=2|448=1339|447=D|452=1|2376=0|448=1340|447=N|452=4|2376=3|581=1|37=2|11=14636703083921410|528=A|2593=1|2594=2|2595=N|54=Z|453=2|448=1337|447=B|452=1|2376=0|448=1338|447=D|452=4|2376=3|1=ACCOUNT003|581=1|37=1|11=1407379178520578|528=A|2593=1|2594=2|2595=N|'
var fixMsg3 = '35=AE|49=n8_ccp_tp|56=400|487=0|828=0|1300=1600|1301=XWAR|48=PLTESTPR1631|22=4|32=100|31=50.00000000|15=PLN|552=2|54=2|453=2|448=1|447=N|452=1|2376=0|448=4|447=N|452=4|2376=3|528=A|2593=1|2594=2|2595=N|54=1|453=2|448=1|447=N|452=1|2376=0|448=4|447=N|452=4|2376=3|528=A|2593=1|2594=2|2595=N|381=1.00|'
var fixMsg4 = '35=CS|49=3|56=n8_fix_tp|50=3|1666=1001|1657=1|1658=01234567890123456781|1659=N|1660=4|2338=23|'
// console.log(fix, fixutils.convertToMap(fix))

console.log(fixMsg2, JSON.stringify(fixutils.convertToMap(fixMsg4), null, 2))